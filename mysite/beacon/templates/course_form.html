{% extends "base.html" %}
{% block title %}{{ action }} Course{% endblock %}
{% block content %}
  <div class="container">
    <h2>{{ action }} Course</h2>
    <form method="POST">
      {% csrf_token %}
      {{ form.as_p }}

    <div class="form-group">
      <label>Credit Points: </label>
      <span>{{ course.credit_points|default:30 }}</span>        </div>
    <hr>

    <!-- Lesson Section -->
    <div class="mt-4">
      <h3>Lessons</h3>
      <div id="lessons">
        {{ lesson_formset.management_form }}
        {% for form in lesson_formset %}
          <div class="lesson-form mb-3 p-2 border rounded">
            {{ form.as_p }}
          </div>
        {% endfor %}
      </div>
      <button type="button" class="btn btn-sm btn-success" onclick="addLesson()">+ Add Lesson</button>

    <!-- Student Section -->
    <div class="mt-4">
      <h3>Students</h3>
      <a href=# class="btn btn-success">+ Add Student</a>
      <!-- {# Example:
      <ul>
        {% for student in course.students.all %}
          <li>{{ student.name }}</li>
        {% empty %}
          <li>No students enrolled yet.</li>
        {% endfor %}
      </ul>
      #} -->
    </div>

    <!-- Classroom Section -->
    <div class="mt-4">
      <h3>Classrooms</h3>
      <a href=# class="btn btn-success">+ Create Classroom</a>
      <!-- {# Example:
      <ul>
        {% for classroom in course.classrooms.all %}
          <li>{{ classroom.name }}</li>
        {% empty %}
          <li>No classrooms assigned yet.</li>
        {% endfor %}
      </ul>
      #} -->
    </div>

    <div class="mt-5">
      <button type="submit" class="btn btn-primary">{{ action }}</button>
      <a href="{% url 'instructor_dashboard' %}" class="btn btn-secondary">Cancel</a>
    </div>
    </form>
  </div>

{% endblock %}
